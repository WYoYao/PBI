<% include ../../template/pageHead.html %>
<% include ../../pages/components/index.html %>
<link rel="stylesheet" href="../../css/single/Inquire.css">

<div id="app">
    <!-- 左侧内容 Start -->
    <div class="left">
        <!-- 筛选项目Start -->
        <div class="section clear">
            <span class="title">
                筛选项目
            </span>
            <div class="block">
                <div class="line">
                    <div @click.stop="showEnergyModel=!showEnergyModel" class="project">
                        <em class="textover" v-if="_.get(energyProject,'projectName')" :title="_.get(energyProject,'projectName')"
                            v-text="_.get(energyProject,'projectName')"></em>
                        <template v-if="energyProject&&energyModel">></template>
                        <em class="textover" v-if="_.get(energyModel,'energyModelName')" :title="_.get(energyModel,'energyModelName')"
                            v-text="_.get(energyModel,'energyModelName')"></em>
                        <template v-if="!(energyProject&&energyModel)">请选择能耗模型</template>
                    </div>
                    <energymodel ref="energymodel" v-if="showEnergyModel" :propsprojectids="[energyProject['projectId']]"
                        :propsmodelids="[energyModel['energyModelId']]" :cancel="handlercancelenergyModel" :cb="handlerclickenergyModel"></energymodel>
                    </energymodel>
                </div>
            </div>
        </div>
        <!-- 筛选项目End -->

        <!-- 筛选时间Start -->
        <div class="section">
            <span class="title">
                筛选时间
            </span>
            <div class="block">
                <div class="line">
                    <ptime-calendar id="divCalendar" orientation="down" sel="click">
                        <panel timetype="dwMy" align="left" double="true" startyear="2003" endyear="2018" commontime="['w','pw']"></panel>
                    </ptime-calendar>
                </div>
                <div class="line same">
                    <div class="imgborder on">
                        <img class="init" src="../../../images/上周同期-2@2x.png" alt="上周同期">
                        <img class="hove" src="../../../images/上周同期-1@2x.png" alt="上周同期">
                    </div>
                    <div class="imgborder">
                        <img class="init" src="../../../images/上月同期-2@2x.png" alt="上月同期">
                        <img class="hove" src="../../../images/上月同期-1@2x.png" alt="上月同期">
                    </div>
                    <div class="imgborder">
                        <img class="init" src="../../../images/去年同期-2@2x.png" alt="去年同期">
                        <img class="hove" src="../../../images/去年同期-1@2x.png" alt="去年同期">
                    </div>
                </div>
            </div>
        </div>
        <!-- 筛选时间End -->
        <!-- 选择分项Start -->
        <div class="section" style="height: calc(100% - 269px);padding:0;">
            <suboption :cb="handlerclickSuboption" :tree="energyModelTree"></suboption>
        </div>
        <!-- 选择分项End -->

    </div>
    <!-- 左侧内容 End -->
    <!-- 右侧内容 Start -->
    <div class="right">

        <div ref="tab" class="tab">

            <vcheckbox ref="vcheckbox" :icon="'M'" :title="'布局'" :datasource="tableTypes" :iscombox="iscombox"
                :computewidth="computeWidth" :primarykey="'code'" :name="'name'" :selected="query.tables" :cb="createHandlerClick('tables')"></vcheckbox>

            <cobxs ref="cobxs" :icon="'%'" :title="'单位'" :datasource="areaTypres" :iscombox="iscombox" :computewidth="computeWidth"
                :primarykey="'code'" :name="'name'" :selected="query.areas" :cb="createHandlerClick('areas')"></cobxs>

            <cobxs ref="cobxs1" :icon="'g'" :title="'能源'" :datasource="energyTypes" :iscombox="iscombox" :computewidth="computeWidth"
                :primarykey="'code'" :name="'name'" :selected="query.energy" :cb="createHandlerClick('energy')"></cobxs>

            <vcheckbox ref="vcheckbox1" :icon="'-'" :title="'辅助线'" :datasource="auxiliaryTypes" :iscombox="iscombox"
                :computewidth="computeWidth" :primarykey="'code'" :name="'name'" :selected="query.auxiliarys" :cb="createHandlerClick('auxiliarys')"></vcheckbox>

            <!--  下载Icon Start -->
            <div ref="iconlist" class="iconlist">
                <div class="vg">
                    <pbutton-white icon="D" shape="rectangle"></pbutton-white>
                </div>
                <div class="vg">
                    <pbutton-white icon="!" shape="rectangle"></pbutton-white>
                </div>
            </div>
            <!--  下载Icon End -->

        </div>

        <!-- 图表 和 辅助信息 Start -->
        <div class="content">
            <div class="l">
                <div id="chart" ref="chart" class="chart"></div>
                <div ref="masterChart" class="zom"></div>
                <div class="tb"></div>
            </div>
            <div class="r"></div>
        </div>
        <!-- 图表 和 辅助信息 End -->

    </div>
    <!-- 右侧内容 End -->
</div>
<script src="../../js/single/Inquire/controller.js"></script>
<script src="../../js/single/Inquire/model.js"></script>

<% include ../../template/pageFoot.html %>